@startuml Xóa Nhà Cung Cấp

' Cấu hình giao diện
skinparam sequenceMessageAlign center
skinparam backgroundColor #FEFEFE
skinparam sequenceArrowThickness 2

actor "Admin" as Admin
boundary "GD_Chinh" as MainGUI
boundary "GD_DanhSachNCC" as ListView
control "Ctrl_Supplier" as Controller
entity "DB_Suppliers" as SupplierDB

Admin -> MainGUI: 1: Chọn "Quản lý nhà cung cấp"
activate Admin
activate MainGUI

MainGUI -> ListView: 1.1: Mở danh sách nhà cung cấp
activate ListView
deactivate MainGUI

ListView -> ListView: 1.2: Hiển thị danh sách

Admin -> ListView: 2: Click "Xóa" trên nhà cung cấp

ListView -> ListView: 2.1: Hiển thị modal xác nhận

Admin -> ListView: 3: Click "Xác nhận xóa"

ListView -> Controller: 3.1: deleteSupplier(supplier_id)
activate Controller

Controller -> SupplierDB: 3.1.1: deleteOne({supplier_id})
activate SupplierDB

SupplierDB --> Controller: 3.1.2: Delete result
deactivate SupplierDB

alt Xóa thành công
    Controller --> ListView: 3.2: return true
    deactivate Controller
    
    ListView -> ListView: 3.2.1: Hiển thị "Xóa nhà cung cấp thành công"
    
    ListView -> ListView: 3.2.2: Chuyển hướng về danh sách nhà cung cấp
    deactivate ListView
else Xóa thất bại
    Controller --> ListView: 3.3: return false
    deactivate Controller
    ListView -> ListView: 3.3.1: Hiển thị "Xóa nhà cung cấp thất bại"
end

deactivate Admin

@enduml
